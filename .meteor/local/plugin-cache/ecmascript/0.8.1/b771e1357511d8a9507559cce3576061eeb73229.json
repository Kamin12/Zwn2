{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"./NewMessageReusable.html","imported":[],"specifiers":[]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/ui/components/NewMessageReusable.js","filenameRelative":"imports/ui/components/NewMessageReusable.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/components/NewMessageReusable.js.map","sourceFileName":"imports/ui/components/NewMessageReusable.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"NewMessageReusable"},"ignored":false,"code":"module.watch(require(\"./NewMessageReusable.html\"));\nTemplate.RealNewMessage.events({\n  'click #send2': function (event, template) {\n    handleMessageInsert(event, template);\n  },\n  'click #close4': function (event, template) {\n    var modal300 = $('#createnewmessage');\n    modal300.css('display', 'none');\n    Blaze.remove(template.view);\n  },\n  'click #creategroup': function (event, template) {\n    Blaze.render(Template.CreateGroup, createnewmessage);\n  },\n  'change #fileInput': function (event, template) {\n    if (e.currentTarget.files && e.currentTarget.files[0]) {\n      // We upload only one file, in case\n      // multiple files were selected\n      var upload = Messages.insert({\n        file: e.currentTarget.files[0],\n        streams: 'dynamic',\n        chunkSize: 'dynamic'\n      }, false);\n      upload.on('start', function () {\n        template.currentUpload.set(this);\n      });\n      upload.on('end', function (error, fileObj) {\n        if (error) {\n          alert('Error during upload: ' + error);\n        } else {\n          alert('File \"' + fileObj.name + '\" successfully uploaded');\n        }\n\n        template.currentUpload.set(false);\n      });\n      upload.start();\n    }\n  }\n});","map":{"version":3,"sources":["imports/ui/components/NewMessageReusable.js"],"names":["module","watch","require","Template","RealNewMessage","events","event","template","handleMessageInsert","modal300","$","css","Blaze","remove","view","render","CreateGroup","createnewmessage","e","currentTarget","files","upload","Messages","insert","file","streams","chunkSize","on","currentUpload","set","error","fileObj","alert","name","start"],"mappings":"AAAAA,OAAOC,KAAP,CAAaC,QAAQ,2BAAR,CAAb;AAEAC,SAASC,cAAT,CAAwBC,MAAxB,CAA+B;AAC7B,kBAAgB,UAAUC,KAAV,EAAiBC,QAAjB,EAA2B;AAC3CC,wBAAqBF,KAArB,EAA4BC,QAA5B;AACC,GAH4B;AAI7B,mBAAiB,UAAUD,KAAV,EAAiBC,QAAjB,EAA2B;AAC1C,QAAIE,WAAWC,EAAE,mBAAF,CAAf;AACAD,aAASE,GAAT,CAAa,SAAb,EAAwB,MAAxB;AACAC,UAAMC,MAAN,CAAaN,SAASO,IAAtB;AACD,GAR4B;AAS7B,wBAAsB,UAAUR,KAAV,EAAiBC,QAAjB,EAA2B;AAC/CK,UAAMG,MAAN,CAAaZ,SAASa,WAAtB,EAAmCC,gBAAnC;AACD,GAX4B;AAY7B,uBAAqB,UAASX,KAAT,EAAeC,QAAf,EAAwB;AAC3C,QAAIW,EAAEC,aAAF,CAAgBC,KAAhB,IAAyBF,EAAEC,aAAF,CAAgBC,KAAhB,CAAsB,CAAtB,CAA7B,EAAuD;AACrD;AACA;AACA,UAAIC,SAASC,SAASC,MAAT,CAAgB;AAC3BC,cAAMN,EAAEC,aAAF,CAAgBC,KAAhB,CAAsB,CAAtB,CADqB;AAE3BK,iBAAS,SAFkB;AAG3BC,mBAAW;AAHgB,OAAhB,EAIV,KAJU,CAAb;AAMAL,aAAOM,EAAP,CAAU,OAAV,EAAmB,YAAY;AAC7BpB,iBAASqB,aAAT,CAAuBC,GAAvB,CAA2B,IAA3B;AACD,OAFD;AAIAR,aAAOM,EAAP,CAAU,KAAV,EAAiB,UAAUG,KAAV,EAAiBC,OAAjB,EAA0B;AACzC,YAAID,KAAJ,EAAW;AACTE,gBAAM,0BAA0BF,KAAhC;AACD,SAFD,MAEO;AACLE,gBAAM,WAAWD,QAAQE,IAAnB,GAA0B,yBAAhC;AACD;;AACD1B,iBAASqB,aAAT,CAAuBC,GAAvB,CAA2B,KAA3B;AACD,OAPD;AASAR,aAAOa,KAAP;AACD;AACF;AArC4B,CAA/B","file":"imports/ui/components/NewMessageReusable.js.map","sourcesContent":["import './NewMessageReusable.html';\n\nTemplate.RealNewMessage.events({\n  'click #send2': function (event, template) {\n  handleMessageInsert( event, template );\n  },\n  'click #close4': function (event, template) {\n    var modal300 = $('#createnewmessage');\n    modal300.css('display', 'none');\n    Blaze.remove(template.view);\n  },\n  'click #creategroup': function (event, template) {\n    Blaze.render(Template.CreateGroup, createnewmessage )\n  },\n  'change #fileInput': function(event,template){\n    if (e.currentTarget.files && e.currentTarget.files[0]) {\n      // We upload only one file, in case\n      // multiple files were selected\n      var upload = Messages.insert({\n        file: e.currentTarget.files[0],\n        streams: 'dynamic',\n        chunkSize: 'dynamic'\n      }, false);\n\n      upload.on('start', function () {\n        template.currentUpload.set(this);\n      });\n\n      upload.on('end', function (error, fileObj) {\n        if (error) {\n          alert('Error during upload: ' + error);\n        } else {\n          alert('File \"' + fileObj.name + '\" successfully uploaded');\n        }\n        template.currentUpload.set(false);\n      });\n\n      upload.start();\n    }\n  }\n  });\n"]},"hash":"b771e1357511d8a9507559cce3576061eeb73229"}
